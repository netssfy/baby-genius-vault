<!--pages/shop/index.wxml-->
<scroll-view scroll-y='true' class='product-list-scoll'>
  <van-swipe-cell
    wx:for='{{products}}' wx:key='index'
    id='{{item.name}}'
    right-width='{{ 65 }}'
    async-close
    bind:close='onProductItemRemove'>
    <van-cell-group>
      <van-cell>
        <van-button color='#87aee7' size='small' style='margin-left: 15rpx;'>ğŸ›ï¸ {{ item.name }}</van-button>
        <van-button color='#e5c10f' size='small' style='margin-left: 15rpx;'>ğŸ’° {{ item.bounty }}</van-button>
        <van-button
          type='primary' size='small' style='margin-left: 15rpx;' bind:click='onProductRedeem'
          data-name='{{item.name}}'
          data-bounty='{{item.bounty}}'>å…‘æ¢</van-button>
      </van-cell>
    </van-cell-group>
    <view slot='right' class='delete'>åˆ é™¤</view>
  </van-swipe-cell>
</scroll-view>

<van-cell-group class='add-product'>
  <van-field model:value='{{inputName}}' label='å•†å“å' required />
  <van-field model:value='{{inputBounty}}' label='èµé‡‘' required bind:change='onValidateBounty'/>
  <van-button type='primary' bind:click='onAddProductClick' block='true'>æ·»åŠ </van-button>
</van-cell-group>
<van-dialog id='van-dialog-product' />

<van-dialog 
  id='redeem-dialog'
  use-slot>
  <van-cell-group>
    <van-cell wx:for='{{ baby }}' wx:key='index'>
      <van-checkbox 
        value='{{ selectedBaby[index] }}'
        bind:change='onSelectedBabyChange'
        data-name='{{ index }}'>{{ index }}
      </van-checkbox>
    </van-cell>
  </van-cell-group>
</van-dialog>
<van-toast id="redeem-success" />